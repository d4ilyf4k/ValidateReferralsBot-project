from aiogram import Router, F, types
from aiogram.fsm.context import FSMContext
from aiogram.filters import StateFilter
from database.db_manager import get_referral_link, get_or_create_user_product
from utils.states import BankAgreement
from utils.keyboards import (
    get_bank_kb,
    get_tbank_product_kb,
    get_black_subtype_kb,
    get_agreement_kb,
    get_detailed_conditions_kb,
    get_user_main_menu_kb
)

router = Router()


@router.message(F.text == "üè¶ –í—ã–±—Ä–∞—Ç—å –±–∞–Ω–∫")
async def choose_bank(message: types.Message, state: FSMContext):
    await state.clear()
    await message.answer("üè¶ –í—ã–±–µ—Ä–∏—Ç–µ –±–∞–Ω–∫:", reply_markup=get_bank_kb())

@router.message(F.text.in_(["üè¶ –¢-–ë–∞–Ω–∫", "üè¶–¢-–ë–∞–Ω–∫"]))
async def select_tbank(message: types.Message, state: FSMContext):
    await state.set_state(BankAgreement.choosing_tbank_product)
    await state.update_data(bank_key="t-bank")
    
    await message.answer(
        "<b>üè¶ –¢-–ë–∞–Ω–∫ | –í—ã–±–æ—Ä –ø—Ä–æ–¥—É–∫—Ç–∞ –ø–æ –ø–∞—Ä—Ç–Ω—ë—Ä—Å–∫–æ–π –ø—Ä–æ–≥—Ä–∞–º–º–µ</b>\n\n"
        "üî∑ <b>Tinkoff Black</b>\n"
        "üèÜ <b>Premium</b>\n"
        "üöó <b>Drive</b>\n"
        "üì± <b>T-Mobile</b>",
        parse_mode="HTML",
        reply_markup=get_tbank_product_kb()
    )


@router.message(F.text.in_(["üè¶ –ê–ª—å—Ñ–∞-–ë–∞–Ω–∫", "üè¶–ê–ª—å—Ñ–∞-–ë–∞–Ω–∫"]))
async def select_alpha(message: types.Message, state: FSMContext):
    product_key = "alpha_debit"
    product_name = "–î–µ–±–µ—Ç–æ–≤–∞—è –∫–∞—Ä—Ç–∞ –ê–ª—å—Ñ–∞-–ë–∞–Ω–∫–∞"
    await state.set_state(BankAgreement.waiting_agreement)
    await state.update_data(
        bank_key="alpha",
        product_key=product_key,
        product_name=product_name
    )

    await message.answer(
        _get_conditions_text(product_key, product_name),
        parse_mode="HTML",
        reply_markup=get_agreement_kb()
    )


@router.callback_query(
    F.data.startswith("tbank_"),
    StateFilter(BankAgreement.choosing_tbank_product)
)
async def choose_tbank_product(callback: types.CallbackQuery, state: FSMContext):
    product_key = callback.data

    if product_key == "tbank_black":
        await state.set_state(BankAgreement.choosing_black_subtype)
        await callback.message.edit_text(
            "<b>–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø Tinkoff Black:</b>\n\n"
            "üî∑ <b>–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è</b>\n"
            "üå∏ <b>–ê—Ä–æ–º–∞–∫–∞—Ä—Ç–∞</b>\n"
            "üéì <b>–ú–æ–ª–æ–¥—ë–∂–Ω–∞—è</b>\n"
            "üìº <b>–†–µ—Ç—Ä–æ</b>",
            parse_mode="HTML",
            reply_markup=get_black_subtype_kb()
        )
        await callback.answer()
        return

    names = {
        "tbank_drive": "–î–µ–±–µ—Ç–æ–≤–∞—è –∫–∞—Ä—Ç–∞ Drive",
        "tbank_premium": "–ü—Ä–µ–º–∏–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–∞ –¢-–ë–∞–Ω–∫–∞",
        "tbank_mobile": "T-Mobile –æ—Ç –¢-–ë–∞–Ω–∫–∞"
    }

    if product_key not in names:
        await callback.answer("‚ùå –ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π –ø—Ä–æ–¥—É–∫—Ç.", show_alert=True)
        return

    await state.update_data(
        product_key=product_key,
        product_name=names[product_key]
    )

    await state.set_state(BankAgreement.waiting_agreement)
    await callback.message.edit_text(
        _get_conditions_text(product_key, names[product_key]),
        parse_mode="HTML",
        reply_markup=get_agreement_kb()
    )
    await callback.answer()

@router.callback_query(
    F.data == "show_details",
    StateFilter(BankAgreement.waiting_agreement)
)
async def show_detailed_conditions(callback: types.CallbackQuery, state: FSMContext):
    data = await state.get_data()
    product_key = data["product_key"]
    product_name = data["product_name"]

    text = _get_detailed_conditions_text(product_key, product_name)

    await callback.message.edit_text(
        text,
        parse_mode="HTML",
        reply_markup=get_detailed_conditions_kb()
    )
    await callback.answer()

@router.callback_query(
    F.data == "back_to_main",
    StateFilter(BankAgreement.waiting_agreement)
)
async def back_to_main_conditions(callback: types.CallbackQuery, state: FSMContext):
    data = await state.get_data()
    product_key = data["product_key"]
    product_name = data["product_name"]

    text = _get_conditions_text(product_key, product_name)

    await callback.message.edit_text(
        text,
        parse_mode="HTML",
        reply_markup=get_agreement_kb()
    )
    await callback.answer()
    
@router.callback_query(
    F.data.in_({"black_classic", "black_aroma", "black_youth", "black_retro"}),
    StateFilter(BankAgreement.choosing_black_subtype)
)
async def choose_black_subtype(callback: types.CallbackQuery, state: FSMContext):
    mapping = {
        "black_classic": "Tinkoff Black",
        "black_aroma": "–ê—Ä–æ–º–∞–∫–∞—Ä—Ç–∞ Black",
        "black_youth": "–ú–æ–ª–æ–¥—ë–∂–Ω–∞—è –∫–∞—Ä—Ç–∞ Black",
        "black_retro": "–†–µ—Ç—Ä–æ-–∫–∞—Ä—Ç–∞ Black"
    }

    product_key = callback.data
    product_name = mapping[product_key]

    await state.update_data(
        bank_key="t-bank",
        product_key=product_key,
        product_name=product_name
    )

    await state.set_state(BankAgreement.waiting_agreement)
    await callback.message.edit_text(
        _get_conditions_text(product_key, product_name),
        parse_mode="HTML",
        reply_markup=get_agreement_kb()
    )
    await callback.answer()


@router.callback_query(
    F.data == "agree_conditions",
    StateFilter(BankAgreement.waiting_agreement)
)
async def process_agreement(callback: types.CallbackQuery, state: FSMContext):
    data = await state.get_data()

    if not all(k in data for k in ("bank_key", "product_key", "product_name")):
        await callback.answer("‚ö†Ô∏è –°–µ—Å—Å–∏—è —É—Å—Ç–∞—Ä–µ–ª–∞, –Ω–∞—á–Ω–∏—Ç–µ –∑–∞–Ω–æ–≤–æ", show_alert=True)
        await state.clear()
        return

    user_id = callback.from_user.id
    bank_key = data["bank_key"]
    product_key = data["product_key"]
    product_name = data["product_name"]

    link = await get_referral_link(bank_key, product_key)
    if not link:
        await callback.message.edit_text("‚ö†Ô∏è –°—Å—ã–ª–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞.")
        await state.clear()
        return

    await get_or_create_user_product(
        user_id=user_id,
        bank=bank_key,
        product_key=product_key,
        product_name=product_name
    )

    await callback.message.edit_text(
        f"<b>üéâ –í–∞—à–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞ –Ω–∞ {product_name}:</b>\n\n"
        f"{link}\n\n"
        "<i>–°—Å—ã–ª–∫–∞ –≤–µ–¥—ë—Ç –Ω–∞ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Å–∞–π—Ç –±–∞–Ω–∫–∞.</i>",
        parse_mode="HTML"
    )

    await callback.message.answer(
        "–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é:",
        reply_markup=get_user_main_menu_kb()
    )

    await state.clear()
    await callback.answer()



@router.callback_query(
    F.data == "disagree_conditions",
    StateFilter(BankAgreement.waiting_agreement)
)
async def process_disagreement(callback: types.CallbackQuery, state: FSMContext):
    await callback.message.edit_text(
        "‚ùå –í—ã –æ—Ç–∫–∞–∑–∞–ª–∏—Å—å –æ—Ç –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Å—ã–ª–∫–∏.\n\n"
        "–í—ã –º–æ–∂–µ—Ç–µ –≤–µ—Ä–Ω—É—Ç—å—Å—è –∏ –≤—ã–±—Ä–∞—Ç—å –¥—Ä—É–≥–æ–π –ø—Ä–æ–¥—É–∫—Ç.",
        parse_mode="HTML"
    )
    await callback.message.answer("–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é:", reply_markup=get_user_main_menu_kb())
    await state.clear()
    await callback.answer()


def _get_conditions_text(product_key: str, product_name: str) -> str:
    """
    UX-—Ñ—É–Ω–∫—Ü–∏—è.
    –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —É—Å–ª–æ–≤–∏—è –æ—Ñ—Ñ–µ—Ä–∞ –î–û –≤—ã–¥–∞—á–∏ —Å—Å—ã–ª–∫–∏.
    –ù–µ —É—á–∞—Å—Ç–≤—É–µ—Ç –≤ —Ä–∞—Å—á—ë—Ç–∞—Ö –∏ –æ—Ç—á—ë—Ç–∞—Ö.
    """
    base = f"<b>üè¶ {product_name}</b>\n\n"

    if product_key == "black_classic":
        return base + (
            "üéÑ <b>–ê–∫—Ü–∏—è ¬´–ó–æ–ª–æ—Ç–æ–π –ë–∏–ª–µ—Ç¬ª</b>\n"
            "‚Ä¢ –ü–æ–∫—É–ø–∫–∞ –æ—Ç <b>500 ‚ÇΩ</b> ‚Üí —É—á–∞—Å—Ç–∏–µ –≤ —Ä–æ–∑—ã–≥—Ä—ã—à–µ –¥–æ <b>5 000 000 ‚ÇΩ</b>\n"
            "‚Ä¢ –ö—ç—à–±—ç–∫ –Ω–∞ —Å–ª–∞–¥–æ—Å—Ç–∏ (–ø–æ —É—Å–ª–æ–≤–∏—è–º –∞–∫—Ü–∏–∏)\n\n"

            "<b>üí≥ –ü–æ—á–µ–º—É –≤—ã–±–∏—Ä–∞—é—Ç Black:</b>\n"
            "‚Ä¢ –î–æ 30% –∫—ç—à–±—ç–∫–∞ —É –ø–∞—Ä—Ç–Ω—ë—Ä–æ–≤\n"
            "‚Ä¢ –î–æ 15% –≤ 4 –∫–∞—Ç–µ–≥–æ—Ä–∏—è—Ö –∫–∞–∂–¥—ã–π –º–µ—Å—è—Ü\n"
            "‚Ä¢ –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –ø–µ—Ä–µ–≤–æ–¥—ã –∏ —Å–Ω—è—Ç–∏–µ –Ω–∞–ª–∏—á–Ω—ã—Ö\n"
            "‚Ä¢ –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –¥–æ–ø–∫–∞—Ä—Ç—ã –¥–ª—è –±–ª–∏–∑–∫–∏—Ö\n\n"

            "üìã <b>–£—Å–ª–æ–≤–∏—è –¥–ª—è –±–æ–Ω—É—Å–∞:</b>\n"
            "‚Ä¢ –ë—ã—Ç—å –Ω–æ–≤—ã–º –∫–ª–∏–µ–Ω—Ç–æ–º –¢‚Äë–ë–∞–Ω–∫–∞\n"
            "‚Ä¢ –û—Ñ–æ—Ä–º–∏—Ç—å –∫–∞—Ä—Ç—É –∏ –ø–æ—Ç—Ä–∞—Ç–∏—Ç—å –æ—Ç 500 ‚ÇΩ –∑–∞ 30 –¥–Ω–µ–π\n\n"
            
            "<i>üîí –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –Ω–∞ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–º —Å–∞–π—Ç–µ –±–∞–Ω–∫–∞.</i>\n"
            "<i>–ë–æ—Ç –Ω–µ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –ø–∞—Å–ø–æ—Ä—Ç, –∫–æ–¥—ã –∏–∑ –°–ú–° –∏ –¥–∞–Ω–Ω—ã–µ –∫–∞—Ä—Ç—ã.</i>"
        )

    elif product_key == "black_aroma":
        return base + (
            "<b>üå∏ –ê—Ä–æ–º–∞–∫–∞—Ä—Ç–∞ Black</b>\n\n"

            "–ö–∞—Ä—Ç–∞ —Å –∞—Ä–æ–º–∞—Ç–æ–º —à–æ–∫–æ–ª–∞–¥–∞ –∏ –∫–æ–∫–æ—Å–∞ üç´ü••\n"
            "–ü—Ä–∏ —ç—Ç–æ–º ‚Äî <b>–ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è Tinkoff Black</b>\n\n"

            "<b>üí≥ –í–∞—à–∏ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:</b>\n"
            "‚Ä¢ –î–æ 30% –∫—ç—à–±—ç–∫–∞ —É –ø–∞—Ä—Ç–Ω—ë—Ä–æ–≤ (–º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å—ã, –∫–æ—Å–º–µ—Ç–∏–∫–∞, —ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞)\n"
            "‚Ä¢ –î–æ 15% –≤ 4 –∫–∞—Ç–µ–≥–æ—Ä–∏—è—Ö –Ω–∞ –≤—ã–±–æ—Ä –∫–∞–∂–¥—ã–π –º–µ—Å—è—Ü\n"
            "‚Ä¢ –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –ø–µ—Ä–µ–≤–æ–¥—ã –∏ —Å–Ω—è—Ç–∏–µ\n"
            "‚Ä¢ –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –¥–æ–ø–∫–∞—Ä—Ç—ã\n\n"

            "<b>üìã –£—Å–ª–æ–≤–∏—è:</b>\n"
            "‚Ä¢ –ù–æ–≤—ã–π –∫–ª–∏–µ–Ω—Ç –¢‚Äë–ë–∞–Ω–∫–∞\n"
            "‚Ä¢ –û—Ñ–æ—Ä–º–∏—Ç—å –∫–∞—Ä—Ç—É –∏ –ø–æ—Ç—Ä–∞—Ç–∏—Ç—å –æ—Ç 500 ‚ÇΩ –∑–∞ 30 –¥–Ω–µ–π\n\n"
            
            "<i>üîí –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ ‚Äî –Ω–∞–ø—Ä—è–º—É—é –Ω–∞ —Å–∞–π—Ç–µ –¢-–ë–∞–Ω–∫–∞.</i>\n"
            "<i>–ë–æ—Ç –Ω–µ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –ø–∞—Å–ø–æ—Ä—Ç, –∫–æ–¥—ã –∏–∑ –°–ú–° –∏ –¥–∞–Ω–Ω—ã–µ –∫–∞—Ä—Ç—ã.</i>"
        )

    elif product_key == "black_youth":
        return base + (
            "<b>üéì –ú–æ–ª–æ–¥—ë–∂–Ω–∞—è –∫–∞—Ä—Ç–∞ (14‚Äì25 –ª–µ—Ç)</b>\n\n"
            
            "<b>1% –∫—ç—à–±—ç–∫–∞ –∑–∞ –ª—é–±—ã–µ –ø–æ–∫—É–ø–∫–∏</b> ‚Äî –±–µ–∑ —É—Å–ª–æ–≤–∏–π.\n\n"
            
            "<b>üí≥ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ:</b> "
            "‚Ä¢ –î–æ <b>15%</b> –≤ 4 –∫–∞—Ç–µ–≥–æ—Ä–∏—è—Ö –Ω–∞ –≤—ã–±–æ—Ä\n"
            "‚Ä¢ –î–æ <b>30%</b> —É –ø–∞—Ä—Ç–Ω—ë—Ä–æ–≤\n"
            "‚Ä¢ <b>–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –≤—ã–ø—É—Å–∫ –∏ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ</b>\n\n"

            "<b>üìã –£—Å–ª–æ–≤–∏—è:</b>\n"
            "‚Ä¢ –í–æ–∑—Ä–∞—Å—Ç: 14‚Äì25 –ª–µ—Ç \n"
            "‚Ä¢ –ù–æ–≤—ã–π –∫–ª–∏–µ–Ω—Ç –¢‚Äë–ë–∞–Ω–∫–∞\n"
            "‚Ä¢ –ü–æ–∫—É–ø–∫–∞ –æ—Ç <b>500 ‚ÇΩ</b> –∑–∞ 30 –¥–Ω–µ–π\n\n"

            "‚è±Ô∏è –ë–æ–Ω—É—Å ‚Äî –≤ —Ç–µ—á–µ–Ω–∏–µ 10 —Ä–∞–±. –¥–Ω–µ–π. –î–æ—Å—Ç–∞–≤–∫–∞ ‚Äî –±–µ—Å–ø–ª–∞—Ç–Ω–æ.\n\n"
            
            "<i>üîí –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ ‚Äî –Ω–∞–ø—Ä—è–º—É—é –Ω–∞ —Å–∞–π—Ç–µ –¢-–ë–∞–Ω–∫–∞.</i>\n"
            "<i>–ë–æ—Ç –ª–∏—à—å –≤–µ–¥—ë—Ç –ø–æ –ø–∞—Ä—Ç–Ω—ë—Ä—Å–∫–æ–π —Å—Å—ã–ª–∫–µ.</i>"
        )
    elif product_key == "black_retro":
        return base + (
            "<b>üìº –†–µ—Ç—Ä–æ-–∫–∞—Ä—Ç–∞ Black</b>\n\n"

            "‚Ä¢ –ù–æ—Å—Ç–∞–ª—å–≥–∏—á–µ—Å–∫–∏–π –¥–∏–∑–∞–π–Ω –≤ —Å—Ç–∏–ª–µ 2000-—Ö\n"
            "<b>–û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –≤—ã–ø—É—Å–∫</b>.\n\n"

            "<b>üí≥ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:</b>\n"
            "‚Ä¢ –í—Å–µ –ø–ª—é—Å—ã Tinkoff Black\n"
            "‚Ä¢ –ö—ç—à–±—ç–∫ –¥–æ <b>30%</b>\n"
            "‚Ä¢ –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –ø–µ—Ä–µ–≤–æ–¥—ã –∏ —Å–Ω—è—Ç–∏–µ\n\n"

            "<b>üìã –£—Å–ª–æ–≤–∏—è:</b>\n"
            "‚Ä¢ –ù–æ–≤—ã–π –∫–ª–∏–µ–Ω—Ç –¢‚Äë–ë–∞–Ω–∫–∞\n"
            "‚Ä¢ –ü–æ–∫—É–ø–∫–∞ –æ—Ç <b>500 ‚ÇΩ</b> –∑–∞ 30 –¥–Ω–µ–π\n\n"
            
            "<i>üîí –í—Å–µ –¥–∞–Ω–Ω—ã–µ –≤–≤–æ–¥—è—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –±–∞–Ω–∫–∞.</i>\n"
            "<i>–ë–æ—Ç –Ω–µ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –ø–∞—Å–ø–æ—Ä—Ç, –∫–æ–¥—ã –∏–∑ –°–ú–° –∏ –¥–∞–Ω–Ω—ã–µ –∫–∞—Ä—Ç—ã.</i>"
        )

    elif product_key == "tbank_drive":
        return base + (
            "<b>üöó Tinkoff Drive</b>\n\n"
            
            "–ë–æ–Ω—É—Å –¥–æ 2000 ‚ÇΩ –æ—Ç –±–∞–Ω–∫–∞ (–ø–æ —É—Å–ª–æ–≤–∏—è–º –∞–∫—Ü–∏–∏) ‚Äî –¥–ª—è —Ç–µ—Ö, –∫—Ç–æ –∑–∞ —Ä—É–ª—ë–º.\n\n"
            
            "‚Ä¢ –ö—ç—à–±—ç–∫ –Ω–∞ –ê–ó–°, –ø–∞—Ä–∫–æ–≤–∫–∏, —Ä–µ–º–æ–Ω—Ç\n"
            "‚Ä¢ –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –≤—ã–ø—É—Å–∫ –∏ –¥–æ—Å—Ç–∞–≤–∫–∞\n"
            "‚Ä¢ –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –ø–µ—Ä–µ–≤–æ–¥—ã –∏ —Å–Ω—è—Ç–∏–µ –±–µ–∑ –∫–æ–º–∏—Å—Å–∏–∏\n\n"

            "<b>üìã –£—Å–ª–æ–≤–∏—è –∞–∫—Ü–∏–∏:</b>\n"
            "‚Ä¢ –ü–æ—Ç—Ä–∞—Ç–∏—Ç—å –æ—Ç <b>5000 ‚ÇΩ</b> –∑–∞ 30 –¥–Ω–µ–π\n"
            "‚Ä¢ –ù–æ–≤—ã–π –∫–ª–∏–µ–Ω—Ç –¢-–ë–∞–Ω–∫–∞\n"
            "‚Ä¢ –ê–∫—Ç–∏–≤–∞—Ü–∏—è –ø—Ä–æ–º–æ–∫–æ–¥–∞ <code>123GO</code>\n\n"

            "‚è±Ô∏è –ë–æ–Ω—É—Å ‚Äî –≤ —Ç–µ—á–µ–Ω–∏–µ 10 —Ä–∞–±. –¥–Ω–µ–π.\n\n"
            
            "<i>üîí –ë–æ–Ω—É—Å –Ω–∞—á–∏—Å–ª—è–µ—Ç –±–∞–Ω–∫.</i>\n"
            "<i>–ë–æ—Ç –Ω–µ —É—á–∞—Å—Ç–≤—É–µ—Ç –≤ –≤—ã–ø–ª–∞—Ç–∞—Ö.</i>"
        )

    elif product_key == "tbank_mobile":
        return base + (
            "<b>üì± T-Mobile –æ—Ç –¢‚Äë–ë–∞–Ω–∫–∞</b>\n\n"

            "–ë–æ–Ω—É—Å –Ω–∞ —Å—á—ë—Ç –ø—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ (–ø–æ —É—Å–ª–æ–≤–∏—è–º –ø–∞—Ä—Ç–Ω—ë—Ä—Å–∫–æ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã)\n\n"

            "<b>üí≥ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:</b>\n"
            "‚Ä¢ –¢–∞—Ä–∏—Ñ—ã –æ—Ç 300 ‚ÇΩ/–º–µ—Å\n"
            "‚Ä¢ –ö—ç—à–±—ç–∫ –∑–∞ –æ–ø–ª–∞—Ç—É —Å–≤—è–∑–∏\n"
            "‚Ä¢ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –¢‚Äë–ë–∞–Ω–∫–∞\n"

            "<b>üìã –£—Å–ª–æ–≤–∏—è:</b>\n"
            "‚Ä¢ –û—Ñ–æ—Ä–º–∏—Ç—å —Å–∏–º-–∫–∞—Ä—Ç—É –ø–æ –ø–∞—Ä—Ç–Ω—ë—Ä—Å–∫–æ–π —Å—Å—ã–ª–∫–µ\n"
            "‚Ä¢ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–æ–º–æ–∫–æ–¥ <code>tpart500</code>\n"
            "‚Ä¢ –ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –æ—Ç <b>300 ‚ÇΩ</b>\n\n"

            "‚è±Ô∏è –ë–æ–Ω—É—Å ‚Äî –≤ —Ç–µ—á–µ–Ω–∏–µ 5‚Äì10 —Ä–∞–±. –¥–Ω–µ–π.\n"
            
            "<i>üîí –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ ‚Äî –Ω–∞–ø—Ä—è–º—É—é —É –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞.</i>"
        )
    elif product_key == "tbank_premium":
        return base + (
            "<b>üèÜ Tinkoff Black Premium ‚Äî –ø—Ä–µ–º–∏—É–º-–∫–∞—Ä—Ç–∞ —Å 1% –∑–∞ –≤—Å—ë</b>\n\n"
            "‚Ä¢ <b>1% –∑–∞ –≤—Å–µ –ø–æ–∫—É–ø–∫–∏</b> ‚Äî –¥–∞–∂–µ –±–µ–∑ —Å–ø–µ—Ü–ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π\n"
            "‚Ä¢ –î–æ <b>15%</b> –≤ 4 –∫–∞—Ç–µ–≥–æ—Ä–∏—è—Ö –Ω–∞ –≤—ã–±–æ—Ä\n"
            "‚Ä¢ –î–æ <b>30%</b> —É –ø–∞—Ä—Ç–Ω—ë—Ä–æ–≤\n"
            "‚Ä¢ –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä 24/7\n"
            "‚Ä¢ –ë–∏–∑–Ω–µ—Å-–∑–∞–ª—ã –∞—ç—Ä–æ–ø–æ—Ä—Ç–æ–≤ –ø–æ –≤—Å–µ–º—É –º–∏—Ä—É\n"
            "‚Ä¢ –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Å—Ç—Ä–∞—Ö–æ–≤–∫–∞: –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è, –≥–∞–¥–∂–µ—Ç—ã, –∑–¥–æ—Ä–æ–≤—å–µ\n"
            "‚Ä¢ –ü–æ–≤—ã—à–µ–Ω–Ω—ã–µ –ª–∏–º–∏—Ç—ã –∏ –æ—Å–æ–±—ã–µ —É—Å–ª–æ–≤–∏—è –ø–æ –∫—Ä–µ–¥–∏—Ç–∞–º\n\n"

            "<b>üí≥ –û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ:</b>\n"
            "‚Ä¢ <b>1990 ‚ÇΩ/–º–µ—Å</b> –∏–ª–∏ <b>–±–µ—Å–ø–ª–∞—Ç–Ω–æ</b> –ø—Ä–∏ –æ—Å—Ç–∞—Ç–∫–µ –æ—Ç 300 000 ‚ÇΩ\n\n"

            "<b>üìã –£—Å–ª–æ–≤–∏—è:</b>\n"
            "‚Ä¢ –ù–æ–≤—ã–π –∫–ª–∏–µ–Ω—Ç –¢‚Äë–ë–∞–Ω–∫–∞\n"
            "‚Ä¢ –û—Ñ–æ—Ä–º–∏—Ç—å –∫–∞—Ä—Ç—É –∏ –ø–æ—Ç—Ä–∞—Ç–∏—Ç—å <b>–æ—Ç 500 ‚ÇΩ –∑–∞ 30 –¥–Ω–µ–π</b>\n\n"

            "‚è±Ô∏è –î–æ—Å—Ç–∞–≤–∫–∞ ‚Äî –±–µ—Å–ø–ª–∞—Ç–Ω–æ –ø–æ –≤—Å–µ–π –†–æ—Å—Å–∏–∏.\n\n"
            
            "<i>üîí –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –Ω–∞ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–º —Å–∞–π—Ç–µ –±–∞–Ω–∫–∞.</i>\n"
            "<i>–ë–æ—Ç –Ω–µ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –ø–∞—Å–ø–æ—Ä—Ç, –∫–æ–¥—ã –∏–∑ –°–ú–° –∏ –¥–∞–Ω–Ω—ã–µ –∫–∞—Ä—Ç—ã.</i>"
        )
    elif product_key == "alpha_debit":
        return (
            "<b>üè¶ –ê–ª—å—Ñ–∞-–ë–∞–Ω–∫ | –î–µ–±–µ—Ç–æ–≤–∞—è –∫–∞—Ä—Ç–∞</b>\n\n"
            
            "<b>üìã –£—Å–ª–æ–≤–∏—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏:</b>\n"
            "‚Ä¢ –ë—ã—Ç—å –Ω–æ–≤—ã–º –∫–ª–∏–µ–Ω—Ç–æ–º –ê–ª—å—Ñ–∞-–ë–∞–Ω–∫–∞\n"
            "‚Ä¢ –û—Ñ–æ—Ä–º–∏—Ç—å –¥–µ–±–µ—Ç–æ–≤—É—é –∫–∞—Ä—Ç—É\n"
            "‚Ä¢ –ü–æ–ª—É—á–∏—Ç—å –∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –∫–∞—Ä—Ç—É\n"
            "‚Ä¢ –°–æ–≤–µ—Ä—à–∏—Ç—å –ø–µ—Ä–≤—É—é –ø–æ–∫—É–ø–∫—É (–Ω–∞ –ª—é–±—É—é —Å—É–º–º—É)\n\n"

            "<b>üéÅ –ß—Ç–æ –≤—ã –ø–æ–ª—É—á–∞–µ—Ç–µ:</b>\n"
            "‚Ä¢ –ö—ç—à–±—ç–∫, –ø—Ä–æ—Ü–µ–Ω—Ç—ã –Ω–∞ –æ—Å—Ç–∞—Ç–æ–∫, –º–∏–ª–∏\n"
            "‚Ä¢ –ë–æ–Ω—É—Å –¥–æ 700 ‚ÇΩ –∑–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ (–ø–æ —É—Å–ª–æ–≤–∏—è–º –ø–∞—Ä—Ç–Ω—ë—Ä—Å–∫–æ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã)\n\n"

            "<b>‚è±Ô∏è –°—Ä–æ–∫–∏:</b>\n"
            "‚Ä¢ –ë–æ–Ω—É—Å –∑–∞—á–∏—Å–ª—è–µ—Ç—Å—è –≤ —Ç–µ—á–µ–Ω–∏–µ 3‚Äì14 –¥–Ω–µ–π –ø–æ—Å–ª–µ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏\n"
            "‚Ä¢ –í—ã–ø—É—Å–∫ –∏ –¥–æ—Å—Ç–∞–≤–∫–∞ ‚Äî –±–µ—Å–ø–ª–∞—Ç–Ω–æ"
            
            "<i>üîí –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –Ω–∞ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–º —Å–∞–π—Ç–µ –±–∞–Ω–∫–∞.</i>\n"
            "<i>–ë–æ—Ç –Ω–µ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –ø–∞—Å–ø–æ—Ä—Ç, –∫–æ–¥—ã –∏–∑ –°–ú–° –∏ –¥–∞–Ω–Ω—ã–µ –∫–∞—Ä—Ç—ã.</i>"
        )   

    else:
        return base + "<b>–£—Å–ª–æ–≤–∏—è —É—Ç–æ—á–Ω—è–π—Ç–µ –ø—Ä–∏ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–∏.</b>"
    
def _get_detailed_conditions_text(product_key: str, product_name: str) -> str:
    base = f"<b>üìÑ –ü–æ–¥—Ä–æ–±–Ω—ã–µ —É—Å–ª–æ–≤–∏—è | {product_name}</b>\n\n"

    if product_key == "black_classic":
        return base + (
            "<b>üéÅ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Tinkoff Black:</b>\n"
            "‚Ä¢ <b>–ö—ç—à–±—ç–∫ –¥–æ 30%</b> –ø–æ —Å–ø–µ—Ü–ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è–º: –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å—ã, –æ–¥–µ–∂–¥–∞, –∫–æ—Å–º–µ—Ç–∏–∫–∞, —ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞\n"
            "‚Ä¢ <b>–î–æ 15%</b> –≤ 4 –∫–∞—Ç–µ–≥–æ—Ä–∏—è—Ö –Ω–∞ –≤—ã–±–æ—Ä –∫–∞–∂–¥—ã–π –º–µ—Å—è—Ü (—Å—É–ø–µ—Ä–º–∞—Ä–∫–µ—Ç—ã, —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç, —Ñ–∞—Å—Ç—Ñ—É–¥, –¥–æ–º –∏ —Ä–µ–º–æ–Ω—Ç –∏ –¥—Ä.)\n"
            "‚Ä¢ <b>–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –ø–µ—Ä–µ–≤–æ–¥—ã</b>: –¥–æ 1 –º–ª–Ω ‚ÇΩ –∑–∞ –æ–ø–µ—Ä–∞—Ü–∏—é –∏ –¥–æ 30 –º–ª–Ω ‚ÇΩ –≤ –º–µ—Å—è—Ü –≤ –¥—Ä—É–≥–∏–µ –±–∞–Ω–∫–∏\n"
            "‚Ä¢ <b>–°–Ω—è—Ç–∏–µ –±–µ–∑ –∫–æ–º–∏—Å—Å–∏–∏</b>: –¥–æ 500 000 ‚ÇΩ –≤ –±–∞–Ω–∫–æ–º–∞—Ç–∞—Ö –¢‚Äë–ë–∞–Ω–∫–∞, –¥–æ 100 000 ‚ÇΩ –≤ —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö (–ø—Ä–∏ —Å–Ω—è—Ç–∏–∏ –æ—Ç 3 000 ‚ÇΩ)\n"
            "‚Ä¢ <b>–î–æ–ø–∫–∞—Ä—Ç—ã</b> –¥–ª—è –±–ª–∏–∑–∫–∏—Ö ‚Äî –±–µ—Å–ø–ª–∞—Ç–Ω–æ\n"
            "‚Ä¢ <b>–£–¥–æ–±–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</b>: –ñ–ö–•, –≤–∫–ª–∞–¥—ã, –∫–∏–Ω–æ, –∑–∞–ø—Ä–∞–≤–∫–∏, –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏, —Å—Ç—Ä–∞—Ö–æ–≤–∫–∏ ‚Äî –≤—Å—ë –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ\n\n"

            "<b>üéÑ –ù–æ–≤–æ–≥–æ–¥–Ω—è—è –∞–∫—Ü–∏—è ¬´–ó–æ–ª–æ—Ç–æ–π –ë–∏–ª–µ—Ç¬ª:</b>\n"
            "‚Ä¢ –î–µ–π—Å—Ç–≤—É–µ—Ç —Å 01.12.2025 –ø–æ 24.12.2025\n"
            "‚Ä¢ –£—Å–ª–æ–≤–∏–µ: –ø–µ—Ä–≤–∞—è –ø–æ–∫—É–ø–∫–∞ –æ—Ç 500 ‚ÇΩ –≤ —Ç–µ—á–µ–Ω–∏–µ 30 –¥–Ω–µ–π –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –∫–∞—Ä—Ç—ã\n"
            "‚Ä¢ –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫—ç—à–±—ç–∫ –Ω–∞ —Å–ª–∞–¥–æ—Å—Ç–∏\n"
            "‚Ä¢ –®–∞–Ω—Å –≤—ã–∏–≥—Ä–∞—Ç—å –¥–æ 5 000 000 ‚ÇΩ\n\n"

            "<b>üìã –£—Å–ª–æ–≤–∏—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏:</b>\n"
            "‚Ä¢ –ë—ã—Ç—å –Ω–æ–≤—ã–º –∫–ª–∏–µ–Ω—Ç–æ–º –¢‚Äë–ë–∞–Ω–∫–∞ (–±–µ–∑ –¥—Ä—É–≥–∏—Ö –¥–µ–π—Å—Ç–≤—É—é—â–∏—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤)\n"
            "‚Ä¢ –û—Ñ–æ—Ä–º–∏—Ç—å –∫–∞—Ä—Ç—É\n"
            "‚Ä¢ –ü–æ–ª—É—á–∏—Ç—å –∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –µ—ë\n"
            "‚Ä¢ –°–æ–≤–µ—Ä—à–∏—Ç—å –ø–µ—Ä–≤—É—é –ø–æ–∫—É–ø–∫—É –æ—Ç 500 ‚ÇΩ –≤ —Ç–µ—á–µ–Ω–∏–µ 30 –¥–Ω–µ–π\n\n"

            "<b>‚è±Ô∏è –°—Ä–æ–∫–∏:</b>\n"
            "‚Ä¢ –ë–æ–Ω—É—Å –Ω–∞—á–∏—Å–ª—è–µ—Ç—Å—è –≤ —Ç–µ—á–µ–Ω–∏–µ 10 —Ä–∞–±–æ—á–∏—Ö –¥–Ω–µ–π\n"
            "‚Ä¢ –í—ã–ø—É—Å–∫ –∏ –¥–æ—Å—Ç–∞–≤–∫–∞ ‚Äî –±–µ—Å–ø–ª–∞—Ç–Ω–æ\n"
            "‚Ä¢ –î–æ—Å—Ç–∞–≤–∫–∞ –∫—É—Ä—å–µ—Ä–æ–º –≤ —É–¥–æ–±–Ω–æ–µ –º–µ—Å—Ç–æ –∏ –≤—Ä–µ–º—è\n\n"

            "<i>üîí –í—Å–µ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤–≤–æ–¥—è—Ç—Å—è –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –±–∞–Ω–∫–∞.</i>\n"
            "<i>üìå –£—Å–ª–æ–≤–∏—è –∞–∫—Ü–∏–π, –±–æ–Ω—É—Å–æ–≤ –∏ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–π –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –±–∞–Ω–∫–æ–º –∏ –º–æ–≥—É—Ç –±—ã—Ç—å –∏–∑–º–µ–Ω–µ–Ω—ã –±–µ–∑ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è.</i>"
            )
        
    elif product_key == "black_aroma":
        return base + (
            "<b>üå∏ –ê—Ä–æ–º–∞–∫–∞—Ä—Ç–∞ Black</b>\n\n"
            "‚Ä¢ –ö–∞—Ä—Ç–∞ <b>–ø–∞—Ö–Ω–µ—Ç —à–æ–∫–æ–ª–∞–¥–æ–º –∏ –∫–æ–∫–æ—Å–æ–º</b> ‚Äî –∏–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –ª–µ—Ç–∞!\n"
            "‚Ä¢ –í—Å–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Tinkoff Black:\n"
            "  ‚Äì –ö—ç—à–±—ç–∫ –¥–æ 30% –ø–æ —Å–ø–µ—Ü–ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è–º\n"
            "  ‚Äì –î–æ 15% –≤ 4 –∫–∞—Ç–µ–≥–æ—Ä–∏—è—Ö –Ω–∞ –≤—ã–±–æ—Ä\n"
            "  ‚Äì –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –ø–µ—Ä–µ–≤–æ–¥—ã –¥–æ 1 –º–ª–Ω ‚ÇΩ/–æ–ø–µ—Ä–∞—Ü–∏—è\n"
            "  ‚Äì –°–Ω—è—Ç–∏–µ –±–µ–∑ –∫–æ–º–∏—Å—Å–∏–∏: –¥–æ 500 000 ‚ÇΩ –≤ –¢‚Äë–ë–∞–Ω–∫–µ, –¥–æ 100 000 ‚ÇΩ –≤ —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö\n"
            "  ‚Äì –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –¥–æ–ø–∫–∞—Ä—Ç—ã –¥–ª—è –±–ª–∏–∑–∫–∏—Ö\n"
            "  ‚Äì –£–¥–æ–±–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –≤—Å–µ—Ö —Ç—Ä–∞—Ç: –ñ–ö–•, –≤–∫–ª–∞–¥—ã, –¥–æ—Å—Ç–∞–≤–∫–∞, –∫–∏–Ω–æ, –∑–∞–ø—Ä–∞–≤–∫–∏\n\n"

            "<b>üìã –£—Å–ª–æ–≤–∏—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏:</b>\n"
            "‚Ä¢ –ë—ã—Ç—å –Ω–æ–≤—ã–º –∫–ª–∏–µ–Ω—Ç–æ–º –¢‚Äë–ë–∞–Ω–∫–∞\n"
            "‚Ä¢ –û—Ñ–æ—Ä–º–∏—Ç—å –∫–∞—Ä—Ç—É\n"
            "‚Ä¢ –°–æ–≤–µ—Ä—à–∏—Ç—å –ø–µ—Ä–≤—É—é –ø–æ–∫—É–ø–∫—É –æ—Ç 500 ‚ÇΩ –≤ —Ç–µ—á–µ–Ω–∏–µ 30 –¥–Ω–µ–π\n\n"

            "<b>‚è±Ô∏è –°—Ä–æ–∫–∏:</b>\n"
            "‚Ä¢ –ë–æ–Ω—É—Å ‚Äî –≤ —Ç–µ—á–µ–Ω–∏–µ 10 —Ä–∞–±–æ—á–∏—Ö –¥–Ω–µ–π\n"
            "‚Ä¢ –î–æ—Å—Ç–∞–≤–∫–∞ ‚Äî –≤ –¥–µ–Ω—å –∑–∞—è–≤–∫–∏ –∏–ª–∏ –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π –¥–µ–Ω—å (–ø—Ä–∏ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–∏ –¥–æ 20:00)\n\n"

            "<i>üîí –í—Å–µ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤–≤–æ–¥—è—Ç—Å—è –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –±–∞–Ω–∫–∞.</i>\n"
            "<i>üìå –£—Å–ª–æ–≤–∏—è –∞–∫—Ü–∏–π, –±–æ–Ω—É—Å–æ–≤ –∏ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–π –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –±–∞–Ω–∫–æ–º –∏ –º–æ–≥—É—Ç –±—ã—Ç—å –∏–∑–º–µ–Ω–µ–Ω—ã –±–µ–∑ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è.</i>"
            )

    elif product_key == "black_youth":
        return base + (
            "<b>üéì –ú–æ–ª–æ–¥—ë–∂–Ω–∞—è –∫–∞—Ä—Ç–∞ (14‚Äì25 –ª–µ—Ç)</b>\n\n"
            "‚Ä¢ <b>1% –∫—ç—à–±—ç–∫–∞ –∑–∞ –≤—Å–µ –ø–æ–∫—É–ø–∫–∏</b> ‚Äî –¥–∞–∂–µ –±–µ–∑ —Å–ø–µ—Ü–ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π\n"
            "‚Ä¢ –î–æ 15% –≤ 4 –∫–∞—Ç–µ–≥–æ—Ä–∏—è—Ö –Ω–∞ –≤—ã–±–æ—Ä –∫–∞–∂–¥—ã–π –º–µ—Å—è—Ü\n"
            "‚Ä¢ –î–æ 30% –ø–æ —Å–ø–µ—Ü–ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è–º –ø–∞—Ä—Ç–Ω—ë—Ä–æ–≤\n"
            "‚Ä¢ –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –≤—ã–ø—É—Å–∫ –∏ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ\n"
            "‚Ä¢ –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –º–æ–ª–æ–¥—ë–∂–Ω—ã–π –¥–∏–∑–∞–π–Ω\n\n"

            "<b>üìã –£—Å–ª–æ–≤–∏—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏:</b>\n"
            "‚Ä¢ –í–æ–∑—Ä–∞—Å—Ç: 14‚Äì25 –ª–µ—Ç\n"
            "‚Ä¢ –ë—ã—Ç—å –Ω–æ–≤—ã–º –∫–ª–∏–µ–Ω—Ç–æ–º –¢‚Äë–ë–∞–Ω–∫–∞\n"
            "‚Ä¢ –û—Ñ–æ—Ä–º–∏—Ç—å –∫–∞—Ä—Ç—É\n"
            "‚Ä¢ –°–æ–≤–µ—Ä—à–∏—Ç—å –ø–µ—Ä–≤—É—é –ø–æ–∫—É–ø–∫—É –æ—Ç 500 ‚ÇΩ –≤ —Ç–µ—á–µ–Ω–∏–µ 30 –¥–Ω–µ–π\n\n"

            "<b>‚è±Ô∏è –°—Ä–æ–∫–∏:</b>\n"
            "‚Ä¢ –ë–æ–Ω—É—Å ‚Äî –≤ —Ç–µ—á–µ–Ω–∏–µ 10 —Ä–∞–±–æ—á–∏—Ö –¥–Ω–µ–π\n"
            "‚Ä¢ –ö–∞—Ä—Ç–∞ –≤—ã–ø—É—Å–∫–∞–µ—Ç—Å—è –∏ –¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –±–µ—Å–ø–ª–∞—Ç–Ω–æ\n\n"

            "<i>üîí –í—Å–µ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤–≤–æ–¥—è—Ç—Å—è –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –±–∞–Ω–∫–∞.</i>\n"
            "<i>üìå –£—Å–ª–æ–≤–∏—è –∞–∫—Ü–∏–π, –±–æ–Ω—É—Å–æ–≤ –∏ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–π –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –±–∞–Ω–∫–æ–º –∏ –º–æ–≥—É—Ç –±—ã—Ç—å –∏–∑–º–µ–Ω–µ–Ω—ã –±–µ–∑ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è.</i>"
            )

    elif product_key == "black_retro":
        return base + (
            "<b>üìº –†–µ—Ç—Ä–æ-–∫–∞—Ä—Ç–∞ (Black –ù–æ—Å—Ç–∞–ª—å–≥–∏—è)</b>\n\n"
            "‚Ä¢ –ù–æ—Å—Ç–∞–ª—å–≥–∏—á–µ—Å–∫–∏–π –¥–∏–∑–∞–π–Ω –≤ —Å—Ç–∏–ª–µ 2000-—Ö ‚Äî –∫–∞–∫ —É –ø–µ—Ä–≤–æ–π –∫–∞—Ä—Ç—ã –¢–∏–Ω—å–∫–æ—Ñ—Ñ\n"
            "‚Ä¢ –í—ã–ø—É—Å–∫:\n"
            "  ‚Äì <b>0 ‚ÇΩ</b>, –µ—Å–ª–∏ —É –≤–∞—Å –Ω–µ—Ç –¥—Ä—É–≥–∏—Ö –∫–∞—Ä—Ç –¢‚Äë–ë–∞–Ω–∫–∞\n"
            "  ‚Äì <b>600 ‚ÇΩ</b>, –µ—Å–ª–∏ —É –≤–∞—Å —É–∂–µ –µ—Å—Ç—å –¥–µ–π—Å—Ç–≤—É—é—â–∞—è –∫–∞—Ä—Ç–∞\n"
            "‚Ä¢ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞—Ä—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–æ\n"
            "‚Ä¢ –î–æ—Å—Ç–∞–≤–∫–∞: –ø—Ä–∏ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–∏ –¥–æ 20:00 ‚Äî –≤ –¥–µ–Ω—å –∑–∞—è–≤–∫–∏ –∏–ª–∏ –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π –¥–µ–Ω—å\n\n"

            "<b>üéÅ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:</b>\n"
            "‚Ä¢ –í—Å–µ –ø–ª—é—Å—ã Tinkoff Black: –∫—ç—à–±—ç–∫, –ø–µ—Ä–µ–≤–æ–¥—ã, —Å–Ω—è—Ç–∏–µ –±–µ–∑ –∫–æ–º–∏—Å—Å–∏–∏, —É–¥–æ–±–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ\n\n"

            "<b>üìã –£—Å–ª–æ–≤–∏—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏:</b>\n"
            "‚Ä¢ –ë—ã—Ç—å –Ω–æ–≤—ã–º –∫–ª–∏–µ–Ω—Ç–æ–º –¢‚Äë–ë–∞–Ω–∫–∞\n"
            "‚Ä¢ –û—Ñ–æ—Ä–º–∏—Ç—å –∫–∞—Ä—Ç—É\n"
            "‚Ä¢ –°–æ–≤–µ—Ä—à–∏—Ç—å –ø–µ—Ä–≤—É—é –ø–æ–∫—É–ø–∫—É –æ—Ç 500 ‚ÇΩ –≤ —Ç–µ—á–µ–Ω–∏–µ 30 –¥–Ω–µ–π\n\n"

            "<b>‚è±Ô∏è –°—Ä–æ–∫–∏:</b>\n"
            "‚Ä¢ –ë–æ–Ω—É—Å ‚Äî –≤ —Ç–µ—á–µ–Ω–∏–µ 10 —Ä–∞–±–æ—á–∏—Ö –¥–Ω–µ–π\n\n"

            "<i>üîí –í—Å–µ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤–≤–æ–¥—è—Ç—Å—è –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –±–∞–Ω–∫–∞.</i>\n"
            "<i>üìå –£—Å–ª–æ–≤–∏—è –∞–∫—Ü–∏–π, –±–æ–Ω—É—Å–æ–≤ –∏ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–π –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –±–∞–Ω–∫–æ–º –∏ –º–æ–≥—É—Ç –±—ã—Ç—å –∏–∑–º–µ–Ω–µ–Ω—ã –±–µ–∑ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è.</i>"
            )

    elif product_key == "tbank_drive":
        return base + (
            "<b>üöó Tinkoff Drive ‚Äî –≤—Å—ë –¥–ª—è —Ç–µ—Ö, –∫—Ç–æ –∑–∞ —Ä—É–ª—ë–º</b>\n\n"
            "‚Ä¢ –ö—ç—à–±—ç–∫ –Ω–∞ –ê–ó–°, –ø–∞—Ä–∫–æ–≤–∫–∏, –∞–≤—Ç–æ–º–æ–π–∫–∏, —à–∏–Ω–æ–º–æ–Ω—Ç–∞–∂, –∑–∞–ø—á–∞—Å—Ç–∏, —Ä–µ–º–æ–Ω—Ç\n"
            "‚Ä¢ –î–æ 30% –∫—ç—à–±—ç–∫–∞ –ø–æ —Å–ø–µ—Ü–ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è–º –ø–∞—Ä—Ç–Ω—ë—Ä–æ–≤\n"
            "‚Ä¢ –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –≤—ã–ø—É—Å–∫ –∏ –¥–æ—Å—Ç–∞–≤–∫–∞\n"
            "‚Ä¢ –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –ø–µ—Ä–µ–≤–æ–¥—ã –∏ —Å–Ω—è—Ç–∏–µ –Ω–∞–ª–∏—á–Ω—ã—Ö –±–µ–∑ –∫–æ–º–∏—Å—Å–∏–∏\n"
            "‚Ä¢ –£–¥–æ–±–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: –æ–ø–ª–∞—Ç–∞ –ø–∞—Ä–∫–æ–≤–æ–∫, —Ç–æ–ø–ª–∏–≤–∞, —Å—Ç—Ä–∞—Ö–æ–≤–∫–∏ ‚Äî –≤—Å—ë –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ\n"
            "‚Ä¢ –£—á–∞—Å—Ç–∏–µ –≤ –∞–∫—Ü–∏—è—Ö ¬´–í—Å—ë –∑–∞ —Å—á—ë—Ç –±–∞–Ω–∫–∞¬ª\n\n"

            "<b>üìã –£—Å–ª–æ–≤–∏—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏:</b>\n"
            "‚Ä¢ –ë—ã—Ç—å –Ω–æ–≤—ã–º –∫–ª–∏–µ–Ω—Ç–æ–º –¢‚Äë–ë–∞–Ω–∫–∞\n"
            "‚Ä¢ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–æ–º–æ–∫–æ–¥ <code>123GO</code>"
            "‚Ä¢ –û—Ñ–æ—Ä–º–∏—Ç—å –∫–∞—Ä—Ç—É Drive\n"
            "‚Ä¢ –ü–æ—Ç—Ä–∞—Ç–∏—Ç—å –æ—Ç 5000 ‚ÇΩ –∑–∞ 30 –¥–Ω–µ–π\n\n"

            "<b>‚è±Ô∏è –°—Ä–æ–∫–∏:</b>\n"
            "‚Ä¢ –ë–æ–Ω—É—Å ‚Äî –≤ —Ç–µ—á–µ–Ω–∏–µ 10 —Ä–∞–±–æ—á–∏—Ö –¥–Ω–µ–π –ø–æ—Å–ª–µ –ø–æ–∫—É–ø–∫–∏\n\n"

            "<i>üîí –í—Å–µ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤–≤–æ–¥—è—Ç—Å—è –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –±–∞–Ω–∫–∞.</i>\n"
            "<i>üìå –£—Å–ª–æ–≤–∏—è –∞–∫—Ü–∏–π, –±–æ–Ω—É—Å–æ–≤ –∏ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–π –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –±–∞–Ω–∫–æ–º –∏ –º–æ–≥—É—Ç –±—ã—Ç—å –∏–∑–º–µ–Ω–µ–Ω—ã –±–µ–∑ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è.</i>"
            )

    elif product_key == "tbank_mobile":
        return base + (
            "<b>üì± T-Mobile –æ—Ç –¢‚Äë–ë–∞–Ω–∫–∞</b>\n\n"
            "‚Ä¢ –í—ã–≥–æ–¥–Ω—ã–µ —Ç–∞—Ä–∏—Ñ—ã –æ—Ç 300 ‚ÇΩ/–º–µ—Å—è—Ü\n"
            "‚Ä¢ –ë–µ–∑–ª–∏–º–∏—Ç–Ω—ã–µ –∑–≤–æ–Ω–∫–∏ –Ω–∞ –Ω–æ–º–µ—Ä–∞ T-Mobile\n"
            "‚Ä¢ –ö—ç—à–±—ç–∫ –¥–æ 10% –∑–∞ –æ–ø–ª–∞—Ç—É —Å–≤—è–∑–∏\n"
            "‚Ä¢ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–∞—Ä–∏—Ñ–æ–º –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –¢‚Äë–ë–∞–Ω–∫–∞\n"
            "‚Ä¢ –†–æ—É–º–∏–Ω–≥ –ø–æ –º–∏—Ä—É –ø–æ —Ü–µ–Ω–µ –¥–æ–º–∞—à–Ω–µ–≥–æ —Ä–µ–≥–∏–æ–Ω–∞\n\n"

            "<b>üìã –£—Å–ª–æ–≤–∏—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏:</b>\n"
            "‚Ä¢ –ë—ã—Ç—å –Ω–æ–≤—ã–º –∫–ª–∏–µ–Ω—Ç–æ–º –¢‚Äë–ë–∞–Ω–∫–∞\n"
            "‚Ä¢ –û—Ñ–æ—Ä–º–∏—Ç—å —Å–∏–º-–∫–∞—Ä—Ç—É T-Mobile\n"
            "‚Ä¢ –ü–æ–ø–æ–ª–Ω–∏—Ç—å –±–∞–ª–∞–Ω—Å –Ω–∞ 500 ‚ÇΩ –≤ —Ç–µ—á–µ–Ω–∏–µ 30 –¥–Ω–µ–π\n\n"

            "<b>‚è±Ô∏è –°—Ä–æ–∫–∏:</b>\n"
            "‚Ä¢ –ë–æ–Ω—É—Å ‚Äî –≤ —Ç–µ—á–µ–Ω–∏–µ 5‚Äì10 —Ä–∞–±–æ—á–∏—Ö –¥–Ω–µ–π\n\n"

            "<i>üîí –í—Å–µ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤–≤–æ–¥—è—Ç—Å—è –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –±–∞–Ω–∫–∞.</i>\n"
            "<i>üìå –£—Å–ª–æ–≤–∏—è –∞–∫—Ü–∏–π, –±–æ–Ω—É—Å–æ–≤ –∏ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–π –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –±–∞–Ω–∫–æ–º –∏ –º–æ–≥—É—Ç –±—ã—Ç—å –∏–∑–º–µ–Ω–µ–Ω—ã –±–µ–∑ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è.</i>"
            )
    elif product_key == "alpha_debit":
        return base + (
            "<b>üè¶ –ê–ª—å—Ñ–∞-–ë–∞–Ω–∫ | –î–µ–±–µ—Ç–æ–≤–∞—è –∫–∞—Ä—Ç–∞</b>\n\n"
            "‚Ä¢ –ö—ç—à–±—ç–∫, –ø—Ä–æ—Ü–µ–Ω—Ç—ã –Ω–∞ –æ—Å—Ç–∞—Ç–æ–∫, –º–∏–ª–∏\n"
            "‚Ä¢ –ë–æ–Ω—É—Å 500 ‚ÇΩ –∑–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ (–ø–æ —É—Å–ª–æ–≤–∏—è–º –ø–∞—Ä—Ç–Ω—ë—Ä—Å–∫–æ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã)\n\n"

            "<b>üìã –£—Å–ª–æ–≤–∏—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏:</b>\n"
            "‚Ä¢ –û—Ñ–æ—Ä–º–∏—Ç—å –¥–µ–±–µ—Ç–æ–≤—É—é –∫–∞—Ä—Ç—É –ê–ª—å—Ñ–∞-–ë–∞–Ω–∫–∞\n"
            "‚Ä¢ –ü–æ–ª—É—á–∏—Ç—å –∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –∫–∞—Ä—Ç—É\n"
            "‚Ä¢ –°–æ–≤–µ—Ä—à–∏—Ç—å –ø–µ—Ä–≤—É—é –ø–æ–∫—É–ø–∫—É (–ª—é–±–∞—è —Å—É–º–º–∞)\n\n"

            "<b>‚è±Ô∏è –°—Ä–æ–∫–∏:</b>\n"
            "‚Ä¢ –ë–æ–Ω—É—Å –∑–∞—á–∏—Å–ª—è–µ—Ç—Å—è –≤ —Ç–µ—á–µ–Ω–∏–µ 3‚Äì14 –¥–Ω–µ–π\n\n"

            "<i>üîí –í—Å–µ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤–≤–æ–¥—è—Ç—Å—è –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –±–∞–Ω–∫–∞.</i>\n"
            "<i>üìå –£—Å–ª–æ–≤–∏—è –∞–∫—Ü–∏–π, –±–æ–Ω—É—Å–æ–≤ –∏ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–π –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –±–∞–Ω–∫–æ–º –∏ –º–æ–≥—É—Ç –±—ã—Ç—å –∏–∑–º–µ–Ω–µ–Ω—ã –±–µ–∑ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è.</i>"
            )
    else:
        return base + "<b>–ü–æ–¥—Ä–æ–±–Ω—ã–µ —É—Å–ª–æ–≤–∏—è —É—Ç–æ—á–Ω—è—é—Ç—Å—è –Ω–∞ —Å–∞–π—Ç–µ –±–∞–Ω–∫–∞.</b>"